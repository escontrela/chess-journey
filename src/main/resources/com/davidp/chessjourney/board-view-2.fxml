<?xml version="1.0" encoding="UTF-8"?>

<?import java.net.URL?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<Pane fx:id="rootPane" maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="800.0" prefWidth="1260.0" styleClass="board-gemini-style" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.davidp.chessjourney.application.ui.board.BoardViewController">
   <children>
      <Pane layoutX="260.0" layoutY="47.0" prefHeight="640.0" prefWidth="640.0" styleClass="chessboard-border" stylesheets="@custom-styles.css">
         <children>
            <Pane fx:id="pnlBoard" prefHeight="640.0" prefWidth="640.0" styleClass="chessboard-border">
               <children>
                  <Pane fx:id="a7" layoutY="80.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-black-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="f7" layoutX="400.0" layoutY="80.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-white-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="e7" layoutX="320.0" layoutY="80.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-black-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="h7" layoutX="560.0" layoutY="80.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-white-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="g7" layoutX="480.0" layoutY="80.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-black-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="a6" layoutY="160.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-white-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="b6" layoutX="80.0" layoutY="160.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-black-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="c6" layoutX="160.0" layoutY="160.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-white-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="d6" layoutX="240.0" layoutY="160.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-black-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="f6" layoutX="400.0" layoutY="160.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-black-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="g6" layoutX="480.0" layoutY="160.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-white-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="h6" layoutX="560.0" layoutY="160.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-black-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="b5" layoutX="80.0" layoutY="240.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-white-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="a5" layoutY="240.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-black-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="c5" layoutX="160.0" layoutY="240.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-black-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="f5" layoutX="400.0" layoutY="240.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-white-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="h5" layoutX="560.0" layoutY="240.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-white-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="g5" layoutX="480.0" layoutY="240.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-black-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="a4" layoutY="320.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-white-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="b4" layoutX="80.0" layoutY="320.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-black-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="c4" layoutX="160.0" layoutY="320.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-white-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="d4" layoutX="240.0" layoutY="320.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-black-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="e4" layoutX="320.0" layoutY="320.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-white-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="f4" layoutX="400.0" layoutY="320.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-black-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="g4" layoutX="480.0" layoutY="320.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-white-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="h4" layoutX="560.0" layoutY="320.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-black-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="b3" layoutX="80.0" layoutY="400.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-white-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="a3" layoutY="400.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-black-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="c3" layoutX="160.0" layoutY="400.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-black-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="f3" layoutX="400.0" layoutY="400.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-white-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="e3" layoutX="320.0" layoutY="400.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-black-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="h3" layoutX="560.0" layoutY="400.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-white-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="g3" layoutX="480.0" layoutY="400.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-black-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="a2" layoutY="480.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-white-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="b2" layoutX="80.0" layoutY="480.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-black-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="c2" layoutX="160.0" layoutY="480.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-white-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="d2" layoutX="240.0" layoutY="480.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-black-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="e2" layoutX="320.0" layoutY="480.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-white-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="f2" layoutX="400.0" layoutY="480.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-black-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="g2" layoutX="480.0" layoutY="480.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-white-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="h2" layoutX="560.0" layoutY="480.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-black-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="b1" layoutX="80.0" layoutY="560.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-white-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="a1" layoutY="560.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-black-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="d1" layoutX="240.0" layoutY="560.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-white-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="c1" layoutX="160.0" layoutY="560.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-black-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="f1" layoutX="400.0" layoutY="560.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-white-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="e1" layoutX="320.0" layoutY="560.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-black-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="h1" layoutX="560.0" layoutY="560.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-white-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="g1" layoutX="480.0" layoutY="560.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-black-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="c7" layoutX="160.0" layoutY="80.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-black-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="b7" layoutX="80.0" layoutY="80.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-white-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="a8" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-white-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="b8" layoutX="80.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-black-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="c8" layoutX="160.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-white-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="e8" layoutX="320.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-white-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="f8" layoutX="400.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-black-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="g8" layoutX="480.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-white-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="h8" layoutX="560.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-black-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="d8" layoutX="240.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-black-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="d7" layoutX="240.0" layoutY="80.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-white-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="d3" layoutX="240.0" layoutY="400.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-white-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="d5" layoutX="240.0" layoutY="240.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-white-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="e5" layoutX="320.0" layoutY="240.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-black-gemini" stylesheets="@custom-styles.css" />
                  <Pane fx:id="e6" layoutX="320.0" layoutY="160.0" prefHeight="80.0" prefWidth="80.0" styleClass="chessboard-square-white-gemini" stylesheets="@custom-styles.css" />
               </children></Pane>
            <Label layoutX="305.0" layoutY="624.0" prefHeight="18.0" prefWidth="13.0" styleClass="text-board-gemini" text="D" textFill="#303040">
               <font>
                  <Font size="14.0" />
               </font>
            </Label>
            <Label layoutX="385.0" layoutY="624.0" prefHeight="18.0" prefWidth="13.0" styleClass="text-board-gemini" text="E" textFill="#303040">
               <font>
                  <Font size="14.0" />
               </font>
            </Label>
            <Label layoutX="465.0" layoutY="624.0" prefHeight="18.0" prefWidth="13.0" styleClass="text-board-gemini" text="F" textFill="#303040">
               <font>
                  <Font size="14.0" />
               </font>
            </Label>
            <Label layoutX="545.0" layoutY="624.0" prefHeight="18.0" prefWidth="13.0" styleClass="text-board-gemini" text="G" textFill="#303040">
               <font>
                  <Font size="14.0" />
               </font>
            </Label>
            <Label layoutX="625.0" layoutY="624.0" prefHeight="18.0" prefWidth="13.0" styleClass="text-board-gemini" text="H" textFill="#303040">
               <font>
                  <Font size="14.0" />
               </font>
            </Label>
            <Label layoutX="2.0" layoutY="560.0" styleClass="text-board-gemini" text="1" textFill="WHITE">
               <font>
                  <Font size="14.0" />
               </font>
            </Label>
            <Label layoutX="2.0" layoutY="480.0" styleClass="text-board-gemini" text="2" textFill="WHITE">
               <font>
                  <Font size="14.0" />
               </font>
            </Label>
            <Label layoutX="2.0" layoutY="400.0" styleClass="text-board-gemini" text="3" textFill="WHITE">
               <font>
                  <Font size="14.0" />
               </font>
            </Label>
            <Label layoutX="2.0" layoutY="320.0" styleClass="text-board-gemini" text="4" textFill="WHITE">
               <font>
                  <Font size="14.0" />
               </font>
            </Label>
            <Label layoutX="2.0" layoutY="240.0" styleClass="text-board-gemini" text="5" textFill="WHITE">
               <font>
                  <Font size="14.0" />
               </font>
            </Label>
            <Label layoutX="2.0" layoutY="160.0" styleClass="text-board-gemini" text="6" textFill="WHITE">
               <font>
                  <Font size="14.0" />
               </font>
            </Label>
            <Label layoutX="2.0" layoutY="80.0" styleClass="text-board-gemini" text="7" textFill="WHITE">
               <font>
                  <Font size="14.0" />
               </font>
            </Label>
            <Label layoutX="2.0" styleClass="text-board-gemini" text="8" textFill="WHITE">
               <font>
                  <Font size="14.0" />
               </font>
            </Label>
            <Label layoutX="65.0" layoutY="624.0" prefHeight="18.0" prefWidth="13.0" styleClass="text-board-gemini" text="A" textFill="WHITE">
               <font>
                  <Font size="14.0" />
               </font>
            </Label>
            <Label layoutX="145.0" layoutY="624.0" prefHeight="18.0" prefWidth="13.0" styleClass="text-board-gemini" text="B" textFill="#303040">
               <font>
                  <Font size="14.0" />
               </font>
            </Label>
            <Label layoutX="225.0" layoutY="624.0" prefHeight="18.0" prefWidth="13.0" styleClass="text-board-gemini" text="C" textFill="#303040">
               <font>
                  <Font size="14.0" />
               </font>
            </Label>
         </children>
      </Pane>

      <Pane fx:id="pnlTime" layoutX="930.0" layoutY="47.0" prefHeight="472.0" prefWidth="303.0" styleClass="popup-section-2">
         <!-- CONTENIDO DEL PANEL DERECHA SUPERIOR (pnlTime) -->
         <children>
            <!-- Cabecera -->
            <Label layoutX="16.0" layoutY="14.0" styleClass="popup-label" text="PGN" />

            <!-- Encabezados columnas -->
            <Label layoutX="16.0" layoutY="44.0" styleClass="text-gray-small" text="#" />
            <Label layoutX="44.0" layoutY="44.0" styleClass="text-gray-small" text="White" />
            <Label layoutX="168.0" layoutY="44.0" styleClass="text-gray-small" text="Black" />

            <!-- Lista PGN con scroll -->
            <ScrollPane fx:id="pgnScroll" fitToWidth="true" hbarPolicy="NEVER" layoutX="12.0" layoutY="64.0" prefHeight="289.0" prefWidth="279.0" styleClass="pgn-box">
               <content>
                  <VBox fx:id="pgnList" fillWidth="true" spacing="6.0" style="-fx-padding: 8;">
                     <!-- Fila de ejemplo (puedes borrarla en runtime) -->
                     <HBox spacing="10.0">
                        <Label styleClass="pgn-index" text="1." />
                        <Label styleClass="pgn-move-white" text="e4" />
                        <Label styleClass="pgn-move-black" text="...c5" />
                     </HBox>
                     <HBox spacing="10.0">
                        <Label styleClass="pgn-index" text="2." />
                        <Label styleClass="pgn-move-white" text="Nf3" />
                        <Label styleClass="pgn-move-black" text="d6" />
                     </HBox>
                  </VBox>
               </content>
            </ScrollPane>

            <!-- Botonera navegación -->
            <HBox alignment="CENTER" layoutX="12.0" layoutY="370.0" prefHeight="32.0" prefWidth="277.0" spacing="10.0">
               <Button fx:id="btnFirst" onAction="#buttonAction" prefHeight="32.0" prefWidth="40.0" styleClass="button-regular">
                  <graphic>
                     <ImageView fitHeight="16.0" fitWidth="16.0" preserveRatio="true">
                        <image><Image url="@img-white/keyboard_double_arrow_left_24dp_white.png" /></image>
                     </ImageView>
                  </graphic>
               </Button>
               <Button fx:id="btnPrev" onAction="#buttonAction" prefHeight="32.0" prefWidth="40.0" styleClass="button-regular">
                  <graphic>
                     <ImageView fitHeight="16.0" fitWidth="16.0" preserveRatio="true">
                        <image><Image url="@img-white/keyboard_arrow_left_24dp_white.png" /></image>
                     </ImageView>
                  </graphic>
               </Button>
               <Button fx:id="btnPlay" onAction="#buttonAction" prefHeight="32.0" prefWidth="40.0" styleClass="button-regular">
                  <graphic>
                     <ImageView fitHeight="16.0" fitWidth="16.0" preserveRatio="true">
                        <image><Image url="@img-white/keyboard_arrow_right_24dp_white.png" /></image>
                     </ImageView>
                  </graphic>
               </Button>
               <Button fx:id="btnNext" onAction="#buttonAction" prefHeight="32.0" prefWidth="40.0" styleClass="button-regular">
                  <graphic>
                     <ImageView fitHeight="16.0" fitWidth="16.0" preserveRatio="true">
                        <image><Image url="@img-white/keyboard_double_arrow_right_24dp_white.png" /></image>
                     </ImageView>
                  </graphic>
               </Button>
               <Button fx:id="btnNext1" onAction="#buttonAction" prefHeight="32.0" prefWidth="40.0" styleClass="button-regular">
                  <graphic>
                     <ImageView fitHeight="16.0" fitWidth="16.0" preserveRatio="true">
                        <image>
                           <Image url="@img-white/content_copy_24dp_white.png" />
                        </image>
                     </ImageView>
                  </graphic>
               </Button>
            </HBox>
            <HBox alignment="CENTER" layoutX="12.0" layoutY="420.0" prefHeight="32.0" prefWidth="277.0" spacing="10.0">
               <children>
                  <Button fx:id="btnFirst1" onAction="#buttonAction" prefHeight="32.0" prefWidth="40.0" styleClass="button-regular">
                     <graphic>
                        <ImageView fitHeight="16.0" fitWidth="16.0" preserveRatio="true">
                           <image>
                              <Image url="@img-white/edit_square_24dp_white.png" />
                           </image>
                        </ImageView>
                     </graphic>
                  </Button>
                  <Button fx:id="btnPrev1" onAction="#buttonAction" prefHeight="32.0" prefWidth="40.0" styleClass="button-regular">
                     <graphic>
                        <ImageView fitHeight="16.0" fitWidth="16.0" preserveRatio="true">
                           <image>
                              <Image url="@img-white/share_24dp_white.png" />
                           </image>
                        </ImageView>
                     </graphic>
                  </Button>
                  <Button fx:id="btnPlay1" onAction="#buttonAction" prefHeight="32.0" prefWidth="40.0" styleClass="button-regular">
                     <graphic>
                        <ImageView fitHeight="16.0" fitWidth="16.0" preserveRatio="true">
                           <image>
                              <Image url="@img-white/star_24dp_white.png" />
                           </image>
                        </ImageView>
                     </graphic>
                  </Button>
               </children>
            </HBox>
         </children>
      </Pane>
      <Pane layoutX="930.0" layoutY="526.0" prefHeight="161.0" prefWidth="303.0" styleClass="popup-section-2">
         <children>
            <Label layoutX="21.0" layoutY="83.0" styleClass="popup-label" text="PGN" />
            <Label layoutX="21.0" layoutY="19.0" styleClass="popup-label" text="FEN" />
            <TextField fx:id="inFen" layoutX="12.0" layoutY="37.0" onKeyPressed="#handleKeyPress" prefHeight="35.0" prefWidth="277.0" promptText="this is a input text box" styleClass="popup-text-field" stylesheets="@custom-styles.css" text="r3k2r/ppp1qppp/4bn2/n1bpp3/2B1P3/1PNPBN2/P1P1QPPP/R3K2R w KQkq - 0 9">
               <font>
                  <Font name="Alatsi Regular" size="12.0" />
               </font>
            </TextField>
            <TextField fx:id="inPGN" layoutX="14.0" layoutY="104.0" onKeyPressed="#handleKeyPress" prefHeight="35.0" prefWidth="204.0" promptText="this is a input text box" styleClass="popup-text-field" stylesheets="@custom-styles.css" text="Bb5+">
               <font>
                  <Font name="Alatsi Regular" size="12.0" />
               </font>
            </TextField>
         </children></Pane>
      <Button fx:id="btClose" alignment="BASELINE_CENTER" layoutX="1230.0" layoutY="4.0" mnemonicParsing="false" onAction="#buttonAction" prefHeight="33.0" prefWidth="35.0" styleClass="button-simple" stylesheets="@custom-styles.css" textFill="WHITE">
         <font>
            <Font name="Alatsi Regular" size="18.0" />
         </font>
         <graphic>
            <ImageView fx:id="imgClose" fitHeight="16.0" fitWidth="25.0" preserveRatio="true">
               <image>
                  <Image url="@img-white/close_18dp_white.png" />
               </image>
            </ImageView>
         </graphic>
      </Button>
      <Pane layoutX="16.0" layoutY="65.0" prefHeight="306.0" prefWidth="230.0" styleClass="popup-section-square">
         <children>
            <ImageView fitHeight="229.0" fitWidth="177.0" layoutX="32.0" layoutY="-26.0" pickOnBounds="true" preserveRatio="true">
               <image>
                  <Image url="@avatar/cappuccino-assasino-avatar-2.png" />
               </image>
            </ImageView>
            <Pane layoutX="10.0" layoutY="168.0" prefHeight="116.0" prefWidth="212.0" styleClass="popup-section-2">
               <children>
                  <Label fx:id="lblGhostMsg" alignment="CENTER" layoutX="9.0" layoutY="7.0" prefHeight="97.0" prefWidth="196.0" styleClass="chat-bubble-text" text="Hola, preparado?" wrapText="true">
                     <font>
                        <Font size="12.0" />
                     </font>
                  </Label>
               </children>
            </Pane>
            <ImageView fx:id="imgLogo" fitHeight="72.0" fitWidth="80.0" layoutX="-2.0" layoutY="-74.0" pickOnBounds="true" preserveRatio="true">
               <image>
                  <Image url="@logo/chess-journey-logo-modern.png" />
               </image>
            </ImageView>
         </children>
      </Pane>
      <Button fx:id="btOptEasy" alignment="BASELINE_CENTER" layoutX="27.0" layoutY="656.0" mnemonicParsing="false" onAction="#buttonAction" prefHeight="37.0" prefWidth="35.0" styleClass="prompt-send" stylesheets="@custom-styles.css" text="1" textFill="WHITE">
         <font>
            <Font name="Alatsi Regular" size="18.0" />
         </font>
      </Button>
      <Button fx:id="btOptionMid" alignment="BASELINE_CENTER" layoutX="80.0" layoutY="656.0" mnemonicParsing="false" onAction="#buttonAction" prefHeight="33.0" prefWidth="35.0" styleClass="prompt-send" stylesheets="@custom-styles.css" text="2" textFill="WHITE">
         <font>
            <Font name="Alatsi Regular" size="18.0" />
         </font>
      </Button>
      <Label fx:id="lblExerciseNum" layoutX="871.0" layoutY="16.0" styleClass="popup-label" text="..." />
      <Label fx:id="lblStatus" layoutX="274.0" layoutY="16.0" styleClass="popup-label" text="..." />
      <Label layoutX="27.0" layoutY="620.0" styleClass="popup-label" text="Difficulty level" />
      <Button fx:id="btStart" alignment="BASELINE_CENTER" layoutX="71.0" layoutY="381.0" mnemonicParsing="false" onAction="#buttonAction" prefHeight="39.0" prefWidth="121.0" styleClass="button-regular" stylesheets="@custom-styles.css" text="Start" textFill="WHITE" visible="false">
         <font>
            <Font name="Alatsi Regular" size="18.0" />
         </font>
      </Button>
      <Label fx:id="lblBoardType" layoutX="551.0" layoutY="16.0" styleClass="popup-label" text="..." />

      <!-- ===== Bottom score/time strip ===== -->
      <Pane fx:id="pnlScoreStrip" layoutX="16.0" layoutY="720.0" prefHeight="72.0" prefWidth="1228.0" styleClass="score-strip">

         <!-- LADO BLANCAS (IZQ) -->
         <Pane layoutX="12.0" layoutY="10.0" prefHeight="52.0" prefWidth="560.0">
            <!-- Victorias -->
            <Label fx:id="lblWhiteWins" alignment="CENTER" layoutX="0.0" layoutY="-3.0" prefHeight="60.0" prefWidth="36.0" styleClass="score-pill" text="0" />
            <Pane layoutX="36.0" layoutY="-3.0" prefHeight="60.0" prefWidth="80.0" style="-fx-background-color: #C7C2B3;">
               <children>
                  <!-- Rating -->
                  <Label layoutX="20.0" layoutY="5.0" prefHeight="13.0" prefWidth="38.0" styleClass="score-caption-right" text="RATING" />
                  <Label layoutX="23.0" layoutY="17.0" prefHeight="23.0" prefWidth="55.0" styleClass="score-value" stylesheets="@custom-styles.css" text="1470" textFill="#f0ebd8">
                     <font>
                        <Font size="14.0" />
                     </font>
                  </Label>
               </children>
            </Pane>
            <Pane layoutX="116.0" layoutY="-3.0" prefHeight="60.0" prefWidth="242.0" style="-fx-background-color: white;">
               <children>
                  <Label layoutX="57.0" layoutY="1.0" prefHeight="52.0" prefWidth="121.0" styleClass="score-name-left" stylesheets="@custom-styles.css" text="ABRAHAM PEREIRA" textFill="#f0ebd8">
                     <font>
                        <Font size="18.0" />
                     </font>
                  </Label>
               </children>
            </Pane>
            <Label layoutX="493.0" layoutY="12.0" styleClass="score-caption" text="Heart rate" />
            <Label fx:id="lblWhiteHR" layoutX="495.0" layoutY="30.0" styleClass="score-value-white" text="92 BPM" />
            <Label fx:id="lblBlackTime" layoutX="384.0" layoutY="9.0" styleClass="score-clock" text="24:32" textFill="#1d2d44">
               <font>
                  <Font size="18.0" />
               </font>
            </Label>
            <Label layoutX="6.0" layoutY="1.0" prefHeight="13.0" prefWidth="38.0" styleClass="score-caption-right" text="LEVEL" />
         </Pane>

         <!-- DIVISOR CENTRAL (opcional) -->
         <Pane layoutX="606.0" layoutY="6.0" prefHeight="60.0" prefWidth="1.0" styleClass="score-divider" />

         <!-- LADO NEGRAS (DCHA) -->
         <Pane layoutX="656.0" layoutY="10.0" prefHeight="52.0" prefWidth="560.0">
            <Label layoutX="14.0" layoutY="12.0" styleClass="score-caption" text="Heart rate" />
            <Label fx:id="lblBlackHR" layoutX="18.0" layoutY="28.0" styleClass="score-value-white" text="113 BPM" />

            <!-- Victorias del rival (a la derecha) -->
            <Label fx:id="lblBlackWins" alignment="CENTER" layoutX="520.0" layoutY="-3.0" prefHeight="60.0" prefWidth="36.0" styleClass="score-pill" text="0" />
            <Label layoutX="97.0" layoutY="8.0" styleClass="score-clock-black" text="24:32" textFill="#f0ebd8">
               <font>
                  <Font size="18.0" />
               </font>
            </Label>
            <Label layoutX="527.0" layoutY="1.0" prefHeight="13.0" prefWidth="33.0" styleClass="score-caption-right" text="LEVEL" />
            <Pane layoutX="198.0" layoutY="-3.0" prefHeight="60.0" prefWidth="242.0" style="-fx-background-color: transparent;">
               <children>
                  <Label layoutX="76.0" layoutY="2.0" prefHeight="56.0" prefWidth="105.0" styleClass="score-name-right" stylesheets="@custom-styles.css" text="MARTIN PEREIRA" textFill="#f0ebd8" wrapText="true">
                     <font>
                        <Font size="18.0" />
                     </font>
                  </Label>
               </children>
            </Pane>
         </Pane>
         <Pane layoutX="1096.0" layoutY="7.0" prefHeight="60.0" prefWidth="80.0" style="-fx-background-color: #C7C2B3;">
            <children>
               <Label layoutX="20.0" layoutY="5.0" prefHeight="13.0" prefWidth="38.0" styleClass="score-caption-right" text="RATING" />
               <Label layoutX="23.0" layoutY="17.0" prefHeight="23.0" prefWidth="55.0" styleClass="score-value" stylesheets="@custom-styles.css" text="1440" textFill="#f0ebd8">
                  <font>
                     <Font size="14.0" />
                  </font>
               </Label>
            </children>
         </Pane>
      </Pane>
      <Label layoutX="93.0" layoutY="17.0" prefHeight="13.0" prefWidth="77.0" styleClass="score-caption" text=" |    FOCUS GAME" />

   </children>
   <stylesheets>
      <URL value="@custom-styles.css" />
   </stylesheets>
</Pane>
